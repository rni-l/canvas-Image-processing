<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>H5-Canvas-Image</title> <script>!function(e,t){function i(){var t=n.getBoundingClientRect().width;t/m>540&&(t=540*m);var i=t/10;n.style.fontSize=i+"px",s.rem=e.rem=i}var a,r=e.document,n=r.documentElement,o=r.querySelector('meta[name="viewport"]'),l=r.querySelector('meta[name="flexible"]'),m=0,d=0,s=t.flexible||(t.flexible={});if(o){var p=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);p&&(d=parseFloat(p[1]),m=parseInt(1/d))}else if(l){var c=l.getAttribute("content");if(c){var u=c.match(/initial\-dpr=([\d\.]+)/),f=c.match(/maximum\-dpr=([\d\.]+)/);u&&(m=parseFloat(u[1]),d=parseFloat((1/m).toFixed(2))),f&&(m=parseFloat(f[1]),d=parseFloat((1/m).toFixed(2)))}}if(!m&&!d){var v=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),h=e.devicePixelRatio;d=1/(m=v?h>=3&&(!m||m>=3)?3:h>=2&&(!m||m>=2)?2:1:1)}if(n.setAttribute("data-dpr",m),!o)if((o=r.createElement("meta")).setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+d+", maximum-scale="+d+", minimum-scale="+d+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(o);else{var x=r.createElement("div");x.appendChild(o),r.write(x.innerHTML)}e.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(i,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(a),a=setTimeout(i,300))},!1),"complete"===r.readyState?r.body.style.fontSize=12*m+"px":r.addEventListener("DOMContentLoaded",function(){r.body.style.fontSize=12*m+"px"},!1),i(),s.dpr=e.dpr=m,s.refreshRem=i,s.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},s.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))</script> <link href="./../css/index.css?5aabeaa170a5f46c7a10" rel="stylesheet"></head> <body> <main class="main oh pos_r"> <section class="main_top"> <canvas height="300" id="canvas"></canvas> <img src="xxxHTMLLINKxxx0.76042192188015250.8874105620940074xxx" id="lastImg" alt=""> </section> <section class="main_bottom flex f_jc_sa f_ai_center"> <div class="btnType file_wrap"> <input type="file" id="file" accept="image/*"> <p>点击上传图片</p> </div> <div class="btnType dn" id="create">生成图片</div> <div class="btnType" id="filterBtn">选择滤镜</div> <div class="btnType" id="revoke">撤销</div> <div class="btnType asideBtn">工具</div> </section> <section id="filterBox"> <div class="flex f_ai_center f_jc_center filterBox_wrap"> <div class="title flex f_jc_center f_ai_center"> <span>选择滤镜风格：</span> <select id="filterSelect"> <option value="">请选择滤镜</option> <option value="HSLAdjustment">HSL</option> <option value="GrayScale">GrayScale</option> <option value="Gamma">Gamma</option> <option value="BrightnessContrastGimp">BrightnessContrastGimp</option> <option value="Edge">Edge</option> <option value="Emboss">Emboss</option> <option value="Invert">Invert</option> <option value="Oil">Oil</option> <option value="Solarize">Solarize</option> <option value="Twril">Twril</option> </select> </div> </div> <div class="content"> </div> <div class="close pos_a">关闭</div> </section> <aside id="aside"> <div class="aside_wrap flex f_dire_c f_jc_sa f_ai_center"> <div class="colorBtn"></div> <div class="rangeWrap"> <div class="rangeLine pos_r"> <div class="rangeBtn pos_a user_select"></div> </div> <p>宽度：5</p> </div> <select id="selectPicSize"> <option value="1">居中</option> <option value="2">填充</option> <option value="3">适应</option> <option value="4">拉伸</option> </select> <div class="btnType aside_hideBtn">关闭</div> </div> </aside> <div class="zhezhao pos_a"></div> <div class="msg pos_a">正在处理中<span class="an_loading1">.</span><span class="an_loading2">.</span><span class="an_loading3">.</span></div> <div class="colorPickerbox"> <canvas id="colorPicker"></canvas> <div class="btnWrap"></div> </div> <div class="color_show pos_a dn"></div> </main> <script src="dist/vendors.js"></script> <script src="dist/bundle.js"></script> <script type="text/javascript" src="./../js/vendors.js?5aabeaa170a5f46c7a10"></script><script type="text/javascript" src="./../js/index.js?5aabeaa170a5f46c7a10"></script></body> </html>